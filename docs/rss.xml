<?xml version='1.0' encoding='UTF-8'?>
<rss xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/" version="2.0"><channel><title>乱七八糟的博客</title><link>https://cs0663c.github.io</link><description>创建容易维护难，谁有耐心写博客</description><copyright>乱七八糟的博客</copyright><docs>http://www.rssboard.org/rss-specification</docs><generator>python-feedgen</generator><image><url>https://github.githubassets.com/favicons/favicon.svg</url><title>avatar</title><link>https://cs0663c.github.io</link></image><lastBuildDate>Tue, 02 Jul 2024 01:24:14 +0000</lastBuildDate><managingEditor>乱七八糟的博客</managingEditor><ttl>60</ttl><webMaster>乱七八糟的博客</webMaster><item><title>wireguard windows10下的使用</title><link>https://cs0663c.github.io/post/wireguard%20windows10-xia-de-shi-yong.html</link><description>#wireguard客户端先安装&#13;
#可选安装Tunnel Service服务的形式运行&#13;
命令如下：配置文件和路径自行修改&#13;
wireguard /installtunnelservice C:\Users\HSSL\Documents\WireGuard\B75.conf&#13;
##******以下是动态域名的小技巧******&#13;
首先前提时wireguard服务时部署在家里的动态公网主机上使用动态域名连接对端&#13;
否则下面这些纯属白瞎搞 有固定公网的服务器无此烦恼&#13;
因为现在的客户端配置中第一次运行配置文件会解析对端域名换成公网ip 并不会实时监控ip是否变化&#13;
一旦服务端ip变更便失联&#13;
现在来个小技巧&#13;
###先运行一次配置文件确保连接正常&#13;
`wireguard /installtunnelservice C:\Users\HSSL\Documents\WireGuard\B75.conf`&#13;
运行服务services.msc找到服务WireGuard Tunnel: B75' 复制下来&#13;
我们需要设置的就时让这任务定时重启 重启时它会重新解析ip 这样就曲线解决了&#13;
新建一个bat&#13;
`@echo off&#13;
net stop 'WireGuard Tunnel: B75'&#13;
net start 'WireGuard Tunnel: B75'`&#13;
就一个关和开的命令 这需要管理员权限 记得&#13;
然后你要设置计划任务让其定时运行或者开机运行,这都是后话了,&#13;
如果你有更好更简单的方式欢迎指教&#13;
&#13;
下面的是我自己的bat,花里胡哨仅供参考&#13;
`@echo off&#13;
setlocal enabledelayedexpansion&#13;
&#13;
@echo %date% %time% - 服务重启流程开始  &gt;&gt; '%USERPROFILE%\Documents\WireGuard\restart_service_log.txt'&#13;
@echo %date% %time% - 尝试停止服务 'WireGuard Tunnel: H510HP'  &gt;&gt; '%USERPROFILE%\Documents\WireGuard\restart_service_log.txt'&#13;
net stop 'WireGuard Tunnel: H510HP' 2&gt;&gt; '%USERPROFILE%\Documents\WireGuard\restart_service_log.txt'&#13;
if %errorlevel% neq 0 (&#13;
     @echo %date% %time% - 停止服务失败，错误代码为 %errorlevel%  &gt;&gt; '%USERPROFILE%\Documents\WireGuard\restart_service_log.txt'&#13;
) else (&#13;
     @echo %date% %time% - 服务成功停止  &gt;&gt; '%USERPROFILE%\Documents\WireGuard\restart_service_log.txt'&#13;
     @echo %date% %time% - 尝试启动服务 'WireGuard Tunnel: H510HP'  &gt;&gt; '%USERPROFILE%\Documents\WireGuard\restart_service_log.txt'&#13;
     net start 'WireGuard Tunnel: H510HP' 2&gt;&gt; '%USERPROFILE%\Documents\WireGuard\restart_service_log.txt'&#13;
     if %errorlevel% neq 0 (&#13;
          @echo %date% %time% - 启动服务失败，错误代码为 %errorlevel%  &gt;&gt; '%USERPROFILE%\Documents\WireGuard\restart_service_log.txt'&#13;
     ) else (&#13;
          @echo %date% %time% - 服务成功启动  &gt;&gt; '%USERPROFILE%\Documents\WireGuard\restart_service_log.txt'&#13;
     )&#13;
)&#13;
&#13;
@echo %date% %time% - 尝试查询服务状态  &gt;&gt; '%USERPROFILE%\Documents\WireGuard\restart_service_log.txt'&#13;
net start 'WireGuard Tunnel: H510HP' 2&gt;&gt; '%USERPROFILE%\Documents\WireGuard\restart_service_log.txt'&#13;
&#13;
@echo %date% %time% - 服务重启操作完成  &gt;&gt; '%USERPROFILE%\Documents\WireGuard\restart_service_log.txt'`&#13;
。</description><guid isPermaLink="true">https://cs0663c.github.io/post/wireguard%20windows10-xia-de-shi-yong.html</guid><pubDate>Tue, 02 Jul 2024 01:23:48 +0000</pubDate></item><item><title>windows 软链接的使用</title><link>https://cs0663c.github.io/post/windows%20-ruan-lian-jie-de-shi-yong.html</link><description># windows 软链接的使用&#13;
&#13;
mklink /j 'E:\surveillance' 'd:\i34160\软件包\'&#13;
mklink /j 'E:\要显示的位置' 'd:\文件存在的真实位置' #前面的不能有现成的文件夹&#13;
#例如&#13;
1.复制User⽬录到D盘： robocopy “C:\Users” “D:\Users” /E /COPYALL /XJ&#13;
2.强制删除User⽬录： rmdir “C:\Users” /S /Q&#13;
3.创建C盘下的User的软件链接，链接到D盘User⽬录：mklink /J “C:\Users” “D:\Users”&#13;
#说明 mklink /?&#13;
MKLINK [[/D] | [/H] | [/J]] Link Target&#13;
        /D      创建目录符号链接。</description><guid isPermaLink="true">https://cs0663c.github.io/post/windows%20-ruan-lian-jie-de-shi-yong.html</guid><pubDate>Thu, 20 Jun 2024 02:41:47 +0000</pubDate></item></channel></rss>